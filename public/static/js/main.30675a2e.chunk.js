(this["webpackJsonprecipe-box"]=this["webpackJsonprecipe-box"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"emailState",(function(){return S})),n.d(c,"firstNameState",(function(){return k})),n.d(c,"lastNameState",(function(){return w})),n.d(c,"passwordState",(function(){return I}));var a=n(0),r=n.n(a),i=n(10),o=n.n(i),s=(n(86),n(21)),j=n(13),l=n(6),b=Object(l.b)({key:"loginState",default:!1}),d=Object(l.b)({key:"userIdState",default:""}),u=n(129),p=Object(u.a)({headerLink:{"&:hover":{content:'""',color:"black",transitionDuration:".5s"},textDecoration:"none",color:"white",margin:"auto 0px"},signInOut:{fontSize:"2rem"}}),O=function(){localStorage.removeItem("token")},m=n(2),h=function(){var e=Object(l.e)(b),t=Object(l.e)(d),n=p();return Object(m.jsx)(s.b,{to:"/",onClick:function(){e(!1),t(""),O()},className:n.signInOut+" "+n.headerLink,children:"Sign out"})},x=n(138),f=n(131),g=Object(u.a)({title:{fontSize:"3rem",left:0,margin:0},header:{width:"100%",margin:0,backgroundColor:"#01A299",color:"white",padding:0,display:"flex",flexDirection:"row"},headerItemWrapper:{width:"50%",padding:"10px"},headerRightSide:{float:"right",margin:0}}),v=function(){var e=Object(l.d)(b),t=g(),n=p();return Object(m.jsxs)(x.a,{component:"div",className:t.header,children:[Object(m.jsx)(x.a,{component:"span",className:t.headerItemWrapper,children:Object(m.jsx)(f.a,{variant:"h1",className:t.title,children:Object(m.jsx)(s.b,{to:"/",className:n.headerLink,children:"Recipe Box"})})}),Object(m.jsx)(x.a,{component:"span",className:t.headerItemWrapper,children:Object(m.jsx)(f.a,{variant:"h3",className:t.headerRightSide,children:Object(m.jsx)(j.d,{children:e?Object(m.jsx)(h,{}):Object(m.jsx)(j.b,{path:"/",exact:!0,children:Object(m.jsx)(s.b,{to:"/signup",className:n.headerLink+" "+n.signInOut,children:"Sign Up"})})})})})]})},y=n(5),N=n(139),S=(n(65),Object(l.b)({key:"emailState",default:""})),k=Object(l.b)({key:"firstNameState",default:""}),w=Object(l.b)({key:"lastNameState",default:""}),I=Object(l.b)({key:"passwordState",default:""}),R=function(e,t,n,c){n||(n={"Content-type":"application/json; charset=UTF-8"});var a="production",r="https://recipeboxapp.azurewebsites.net";console.log(a),console.log(r);var i=new URL(e,r).href;return fetch(i,t?{method:c,headers:n,body:t}:{method:c,headers:n}).then((function(e){return e.status>=200&&e.status<=300?e.json():e.status}),(function(e){console.error(e)}))};var C=function(e,t){Object(a.useEffect)((function(){e.forEach((function(e){e(t)}))}),[])},T=n(137),U=function(e){var t=(e=e.replace(" ","")).charAt(0).toLowerCase()+e.slice(1)+"State",n=void 0;return Object.values(c).some((function(e){return e.key===t&&(n=e,!0)})),n};var B=function(e){var t=U(e),n=Object(l.e)(t);return function(e){n(e.target.value)}};var E=function(e){var t=U(e);return Object(l.d)(t)},F=Object(u.a)({enterText:{margin:"5px auto",textAlign:"center",fontSize:"20px"},enterTextInput:{borderRadius:"5px",color:"black",fontSize:"20px",width:"90%"}}),D=function(e){var t=e.fieldName,n=e.type,c=F(),a=B(t),r=E(t);return Object(m.jsxs)(x.a,{component:"div",className:c.enterText,children:[Object(m.jsxs)(x.a,{component:"div",children:[t,":"]}),Object(m.jsx)(T.a,{type:n,placeholder:t,value:r,className:c.enterTextInput,name:t,onChange:a})]})},W=function(e){e&&e.token&&localStorage.setItem("token",e.token)},L=Object(u.a)({signUpBox:{margin:"auto",border:"1px solid #707070",borderRadius:"5px",padding:"10px",display:"block",width:"20%"},signUpButton:{margin:"5px auto",textAlign:"center"}}),A=function(){var e=Object(l.c)(k),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(l.c)(w),r=Object(y.a)(a,2),i=r[0],o=r[1],s=Object(l.c)(I),u=Object(y.a)(s,2),p=u[0],O=u[1],h=Object(l.c)(S),f=Object(y.a)(h,2),g=f[0],v=f[1],T=Object(l.c)(b),U=Object(y.a)(T,2),B=U[0],E=U[1],F=Object(l.c)(d),A=Object(y.a)(F,2),H=(A[0],A[1]),P=L();C([c,o,O,v],"");return B?Object(m.jsx)(j.a,{to:"/"}):Object(m.jsxs)(x.a,{component:"form",className:P.signUpBox,onSubmit:function(e){e.preventDefault(),R("users/signup",JSON.stringify({firstName:n,lastName:i,email:g,password:p}),{"Content-type":"application/json; charset=UTF-8"},"POST").then((function(e){if("number"===typeof e);else if(e)return E(!0),H(e.id),W(e.token),Object(m.jsx)(j.a,{to:"/"})}))},children:[Object(m.jsx)(D,{fieldName:"First Name",type:"text"}),Object(m.jsx)(D,{fieldName:"Last Name",type:"text"}),Object(m.jsx)(D,{fieldName:"Email",type:"email"}),Object(m.jsx)(D,{fieldName:"Password",type:"password"}),Object(m.jsx)(x.a,{component:"div",className:P.signUpButton,children:Object(m.jsx)(N.a,{variant:"contained",color:"primary",type:"submit",children:"Sign Up"})})]})},H=n(72),P=n(136),z=function(){var e=Object(l.c)(I),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(l.c)(S),r=Object(y.a)(a,2),i=r[0],o=r[1],s=Object(l.c)(b),u=Object(y.a)(s,2),p=u[0],O=u[1],h=Object(l.c)(d),f=Object(y.a)(h,2),g=(f[0],f[1]),v=L();C([c,o],"");return p?Object(m.jsx)(j.a,{to:"/"}):Object(m.jsxs)(x.a,{component:"form",className:v.signUpBox,onSubmit:function(e){e.preventDefault(),R("auth/signin",JSON.stringify({email:i,password:n}),{"Content-type":"application/json; charset=UTF-8"},"POST").then((function(e){if("number"===typeof e);else if(e)return O(!0),g(e.id),W(e),Object(m.jsx)(j.a,{to:"/"})}))},children:[Object(m.jsx)(D,{fieldName:"Email",type:"text"}),Object(m.jsx)(D,{fieldName:"Password",type:"password"}),Object(m.jsx)(x.a,{component:"div",className:v.signUpButton,children:Object(m.jsx)(N.a,{variant:"contained",color:"primary",type:"submit",children:"Sign In"})})]})},J=Object(u.a)({signIn:{"&:hover":{content:'""',color:"black",transitionDuration:".5s"},textDecoration:"none",color:"white",fontSize:"2rem"}}),_=function(){var e=J();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f.a,{variant:"h1",children:"Home"}),Object(m.jsx)(s.b,{to:"/signin",className:e.signIn,children:Object(m.jsx)(N.a,{variant:"contained",color:"primary",children:"Sign In"})})]})},M=n(135),G=function(e,t,n){var c={"Content-Type":"application/json",Authentication:"bearer "+localStorage.getItem("token")};return R(e,t,c,n)},q=Object(l.b)({key:"userRecipesState",default:[]}),K=n(70),Q=Object(l.b)({key:"popupState",default:!1}),V=(n(95),Object(l.b)({key:"currentRecipeUrl",default:""})),X=function(){var e=Object(l.c)(V),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(l.c)(q),r=Object(y.a)(a,2),i=r[0],o=r[1];return Object(m.jsxs)(x.a,{component:"form",onSubmit:function(e){e.preventDefault(),G("content/recipes",JSON.stringify({url:n}),"POST").then((function(e){var t=i.slice();t.push(e),o(t)}))},children:[Object(m.jsx)(T.a,{type:"text",value:n,onChange:function(e){c(e.target.value)},placeholder:"Recipe Url"}),Object(m.jsx)(N.a,{variant:"contained",color:"primary",type:"submit",children:"Submit URL"})]})},Y=function(){var e=Object(a.useState)(""),t=Object(y.a)(e,2),n=(t[0],t[1],Object(l.c)(Q)),c=Object(y.a)(n,2),r=c[0],i=c[1];return Object(m.jsx)(K.a,{open:r,closeOnDocumentClick:!0,onClose:function(){return i(!1)},position:"center center",children:Object(m.jsx)(X,{})})},Z=Object(u.a)({recipeHeaderRight:{float:"right",marginRight:"8px",marginBlockStart:"0.83em",marginBlockEnd:"0.3em",marginInlineStart:"0"}}),$=function(){var e=Object(l.c)(Q),t=Object(y.a)(e,2),n=(t[0],t[1]),c=Z();return Object(m.jsx)(x.a,{component:"span",className:c.recipeHeaderRight,children:Object(m.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(){n(!0)},children:"Add Recipe"})})},ee=Object(u.a)({myRecipes:{marginBlockEnd:"0.3em"}}),te=function(){var e=ee();return Object(m.jsx)(f.a,{variant:"h2",className:e.myRecipes,children:"My Recipes"})},ne=Object(u.a)({recipeHeader:{display:"flex",flexDirection:"row",borderBottom:"1px solid #707070"},recipeHeaderItemWrapper:{width:"50%",padding:0,margin:0}}),ce=function(){var e=ne();return Object(m.jsxs)(x.a,{component:"div",className:e.recipeHeader,children:[Object(m.jsx)(x.a,{component:"span",className:e.recipeHeaderItemWrapper,children:Object(m.jsx)(te,{})}),Object(m.jsx)(x.a,{component:"span",className:e.recipeHeaderItemWrapper,children:Object(m.jsx)($,{})})]})},ae=n(133),re=n(134),ie=n(71),oe=n.n(ie),se=Object(u.a)({openExternal:{"&:hover":{cursor:"pointer"}}}),je=function(e){var t=e.url,n=se();return Object(m.jsx)(oe.a,{className:n.openExternal,onClick:function(){var e=window.open(t,"_blank");null===e||void 0===e||e.focus()}})},le=function(e){var t=e.url;e.id;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(je,{url:t})})},be=function(e){var t=e.description;return Object(m.jsx)(f.a,{children:t})},de=Object(u.a)({title:{fontSize:"2rem",borderBottom:"1px solid #707070"}}),ue=function(e){var t=de(),n=e.title;return Object(m.jsx)(f.a,{variant:"h3",className:t.title,children:n})},pe=function(e){var t=e.metadata,n=t.title,c=t.description,a=t.url,r=t._id;return Object(m.jsxs)(x.a,{component:"span",children:[Object(m.jsx)(ue,{title:n}),Object(m.jsx)(le,{url:a,id:r}),Object(m.jsx)(be,{description:c})]})},Oe=Object(u.a)({root:{minWidth:275,maxWidth:500,margin:50},content:{minWidth:275,maxWidth:500,padding:15},image:{maxWidth:500,borderRadius:5},imageContainer:{padding:0}}),me=function(e){var t=Oe(),n=e.metadata,c=n.title,a=n.imageUrl;return Object(m.jsxs)(ae.a,{raised:!0,className:t.root,children:[Object(m.jsx)(re.a,{component:"div",className:t.imageContainer,children:Object(m.jsx)("img",{src:a,alt:"".concat(c),className:t.image})}),Object(m.jsx)(re.a,{className:t.content,component:"div",children:Object(m.jsx)(pe,{metadata:n})})]})},he=function(){var e=Object(l.c)(q),t=Object(y.a)(e,2),n=t[0],c=t[1],r=Object(l.d)(d);return Object(a.useEffect)((function(){G("/content/recipes?uid=".concat(r),void 0,"GET").then((function(e){e&&"number"!==typeof e&&c(e)}))}),[r]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ce,{}),Object(m.jsxs)(M.a,{container:!0,spacing:0,children:[Object(m.jsx)(Y,{}),n&&n.map((function(e){return Object(m.jsx)(M.a,{item:!0,children:Object(m.jsx)(me,{metadata:e})},e._id)}))]})]})},xe=function(e){var t=Object(l.c)(b),n=Object(y.a)(t,2),c=n[0],r=n[1],i=Object(l.c)(d),o=Object(y.a)(i,2),s=(o[0],o[1]);return Object(a.useEffect)((function(){G("auth/verify",JSON.stringify({}),"POST").then((function(e){"number"===typeof e?r(!1):e&&(r(!0),W(e.token),s(e.id))}))}),[c,r]),Object(m.jsx)(m.Fragment,{children:c?Object(m.jsx)(he,{}):Object(m.jsx)(_,{})})},fe=Object(u.a)({App:{height:"100vh",padding:0},content:{height:"100%",marginTop:"20px"}}),ge=function(){var e=Object(H.a)({palette:{primary:{main:"#01A299",contrastText:"#fff"},secondary:{main:"#6200EE",contrastText:"#fff"}},typography:{fontFamily:['"Noto Sans"',"Roboto","serif"].join(",")}}),t=fe();return Object(m.jsx)(l.a,{children:Object(m.jsx)(s.a,{children:Object(m.jsx)(P.a,{theme:e,children:Object(m.jsxs)("div",{className:t.App,children:[Object(m.jsx)(v,{}),Object(m.jsx)("div",{className:t.content,children:Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.b,{path:"/",exact:!0,component:xe}),Object(m.jsx)(j.b,{path:"/signup",exact:!0,component:A}),Object(m.jsx)(j.b,{path:"/signin",exact:!0,component:z})]})})]})})})})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(ge,{})}),document.getElementById("root")),ve(console.log)},65:function(e,t,n){},86:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.30675a2e.chunk.js.map